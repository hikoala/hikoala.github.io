info:
  title: Koala Webhooks
  version: 2.0.0
openapi: 3.1.0
webhooks:
  Contract Created:
    post:
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContractCreatedRequestBody'
        required: true
      responses:
        '200':
          description: Successfully processed the event
        '401':
          description: Invalid signature supplied
        '500':
          description: Failed to process the event
  Claim Updated:
    post:
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ClaimUpdatedRequestBody'
        required: true
      responses:
        '200':
          description: Successfully processed the event
        '401':
          description: Invalid signature supplied
        '500':
          description: Failed to process the event
components:
  schemas:
    ContractCreatedRequestBody:
      type: object
      properties:
        data:
          type: object
          properties:
            contract:
              type: object
              properties:
                coveredEvent:
                  oneOf:
                    - type: object
                      properties:
                        arrivalAirport:
                          type: object
                          properties:
                            city:
                              type: string
                            iata:
                              type: string
                              minLength: 3
                              maxLength: 3
                            name:
                              type: string
                          required:
                            - city
                            - iata
                            - name
                          additionalProperties: false
                        arrivalDate:
                          description: A qualified ISO 8601 date-time
                          example: '2023-03-12T02:21:32.000+02:00'
                          format: date-time
                          type: string
                        departureAirport:
                          type: object
                          properties:
                            city:
                              type: string
                            iata:
                              type: string
                              minLength: 3
                              maxLength: 3
                            name:
                              type: string
                          required:
                            - city
                            - iata
                            - name
                          additionalProperties: false
                        departureDate:
                          description: A qualified ISO 8601 date-time
                          example: '2023-03-12T02:21:32.000+02:00'
                          format: date-time
                          type: string
                        number:
                          type: string
                          minLength: 1
                          maxLength: 6
                      required:
                        - arrivalAirport
                        - arrivalDate
                        - departureAirport
                        - departureDate
                        - number
                      additionalProperties: false
                    - type: object
                      properties:
                        flights:
                          type: array
                          items:
                            type: object
                            properties:
                              arrivalAirport:
                                type: object
                                properties:
                                  city:
                                    type: string
                                  iata:
                                    type: string
                                    minLength: 3
                                    maxLength: 3
                                  name:
                                    type: string
                                required:
                                  - city
                                  - iata
                                  - name
                                additionalProperties: false
                              arrivalDate:
                                description: A qualified ISO 8601 date-time
                                example: '2023-03-12T02:21:32.000+02:00'
                                format: date-time
                                type: string
                              departureAirport:
                                type: object
                                properties:
                                  city:
                                    type: string
                                  iata:
                                    type: string
                                    minLength: 3
                                    maxLength: 3
                                  name:
                                    type: string
                                required:
                                  - city
                                  - iata
                                  - name
                                additionalProperties: false
                              departureDate:
                                description: A qualified ISO 8601 date-time
                                example: '2023-03-12T02:21:32.000+02:00'
                                format: date-time
                                type: string
                              number:
                                type: string
                                minLength: 1
                                maxLength: 6
                            required:
                              - arrivalAirport
                              - arrivalDate
                              - departureAirport
                              - departureDate
                              - number
                            additionalProperties: false
                        segments:
                          type: array
                          items:
                            oneOf:
                              - type: object
                                properties:
                                  arrivalStop:
                                    type: object
                                    properties:
                                      date:
                                        description: A qualified ISO 8601 date-time
                                        example: '2023-03-12T02:21:32.000+02:00'
                                        format: date-time
                                        type: string
                                      iata:
                                        type: string
                                        minLength: 3
                                        maxLength: 3
                                    required:
                                      - date
                                      - iata
                                    additionalProperties: false
                                  departureStop:
                                    type: object
                                    properties:
                                      date:
                                        description: A qualified ISO 8601 date-time
                                        example: '2023-03-12T02:21:32.000+02:00'
                                        format: date-time
                                        type: string
                                      iata:
                                        type: string
                                        minLength: 3
                                        maxLength: 3
                                    required:
                                      - date
                                      - iata
                                    additionalProperties: false
                                  price:
                                    type: object
                                    properties:
                                      amount:
                                        type: number
                                      currency:
                                        type: string
                                    required:
                                      - amount
                                      - currency
                                    additionalProperties: false
                                  route:
                                    type: object
                                    properties:
                                      mode:
                                        type: string
                                        enum:
                                          - FLIGHT
                                      transportIdentifier:
                                        type: object
                                        properties:
                                          airlineIata:
                                            type: string
                                            minLength: 2
                                            maxLength: 2
                                          number:
                                            type: string
                                            pattern: \d+
                                            maxLength: 4
                                        required:
                                          - airlineIata
                                          - number
                                        additionalProperties: false
                                    required:
                                      - mode
                                      - transportIdentifier
                                    additionalProperties: false
                                required:
                                  - arrivalStop
                                  - departureStop
                                  - route
                                additionalProperties: false
                              - type: object
                                properties:
                                  arrivalStop:
                                    type: object
                                    properties:
                                      countryCode: {}
                                      date:
                                        description: A qualified ISO 8601 date-time
                                        example: '2023-03-12T02:21:32.000+02:00'
                                        format: date-time
                                        type: string
                                      externalId:
                                        type: string
                                        minLength: 1
                                      latitude:
                                        type: number
                                        minimum: -90
                                        maximum: 90
                                      longitude:
                                        type: number
                                        minimum: -180
                                        maximum: 180
                                      name:
                                        type: string
                                        minLength: 1
                                      uic:
                                        type: string
                                        pattern: ^\d{7}$
                                    required:
                                      - countryCode
                                      - date
                                      - externalId
                                      - name
                                    additionalProperties: false
                                  departureStop:
                                    type: object
                                    properties:
                                      countryCode: {}
                                      date:
                                        description: A qualified ISO 8601 date-time
                                        example: '2023-03-12T02:21:32.000+02:00'
                                        format: date-time
                                        type: string
                                      externalId:
                                        type: string
                                        minLength: 1
                                      latitude:
                                        type: number
                                        minimum: -90
                                        maximum: 90
                                      longitude:
                                        type: number
                                        minimum: -180
                                        maximum: 180
                                      name:
                                        type: string
                                        minLength: 1
                                      uic:
                                        type: string
                                        pattern: ^\d{7}$
                                    required:
                                      - countryCode
                                      - date
                                      - externalId
                                      - name
                                    additionalProperties: false
                                  externalId:
                                    type: string
                                    minLength: 1
                                  price:
                                    type: object
                                    properties:
                                      amount:
                                        type: number
                                      currency:
                                        type: string
                                    required:
                                      - amount
                                      - currency
                                    additionalProperties: false
                                  route:
                                    type: object
                                    properties:
                                      mode:
                                        type: string
                                        enum:
                                          - BUS
                                          - TRAIN
                                          - FERRY
                                      transportIdentifier:
                                        type: string
                                        minLength: 1
                                    required:
                                      - mode
                                      - transportIdentifier
                                    additionalProperties: false
                                required:
                                  - arrivalStop
                                  - departureStop
                                  - route
                                additionalProperties: false
                      required:
                        - flights
                        - segments
                      additionalProperties: false
                    - type: object
                      properties:
                        journeys:
                          type: array
                          items:
                            type: object
                            properties:
                              flights:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    arrivalAirport:
                                      type: object
                                      properties:
                                        city:
                                          type: string
                                        iata:
                                          type: string
                                          minLength: 3
                                          maxLength: 3
                                        name:
                                          type: string
                                      required:
                                        - city
                                        - iata
                                        - name
                                      additionalProperties: false
                                    arrivalDate:
                                      description: A qualified ISO 8601 date-time
                                      example: '2023-03-12T02:21:32.000+02:00'
                                      format: date-time
                                      type: string
                                    departureAirport:
                                      type: object
                                      properties:
                                        city:
                                          type: string
                                        iata:
                                          type: string
                                          minLength: 3
                                          maxLength: 3
                                        name:
                                          type: string
                                      required:
                                        - city
                                        - iata
                                        - name
                                      additionalProperties: false
                                    departureDate:
                                      description: A qualified ISO 8601 date-time
                                      example: '2023-03-12T02:21:32.000+02:00'
                                      format: date-time
                                      type: string
                                    number:
                                      type: string
                                      minLength: 1
                                      maxLength: 6
                                  required:
                                    - arrivalAirport
                                    - arrivalDate
                                    - departureAirport
                                    - departureDate
                                    - number
                                  additionalProperties: false
                              segments:
                                type: array
                                items:
                                  oneOf:
                                    - type: object
                                      properties:
                                        arrivalStop:
                                          type: object
                                          properties:
                                            date:
                                              description: A qualified ISO 8601 date-time
                                              example: '2023-03-12T02:21:32.000+02:00'
                                              format: date-time
                                              type: string
                                            iata:
                                              type: string
                                              minLength: 3
                                              maxLength: 3
                                          required:
                                            - date
                                            - iata
                                          additionalProperties: false
                                        departureStop:
                                          type: object
                                          properties:
                                            date:
                                              description: A qualified ISO 8601 date-time
                                              example: '2023-03-12T02:21:32.000+02:00'
                                              format: date-time
                                              type: string
                                            iata:
                                              type: string
                                              minLength: 3
                                              maxLength: 3
                                          required:
                                            - date
                                            - iata
                                          additionalProperties: false
                                        price:
                                          type: object
                                          properties:
                                            amount:
                                              type: number
                                            currency:
                                              type: string
                                          required:
                                            - amount
                                            - currency
                                          additionalProperties: false
                                        route:
                                          type: object
                                          properties:
                                            mode:
                                              type: string
                                              enum:
                                                - FLIGHT
                                            transportIdentifier:
                                              type: object
                                              properties:
                                                airlineIata:
                                                  type: string
                                                  minLength: 2
                                                  maxLength: 2
                                                number:
                                                  type: string
                                                  pattern: \d+
                                                  maxLength: 4
                                              required:
                                                - airlineIata
                                                - number
                                              additionalProperties: false
                                          required:
                                            - mode
                                            - transportIdentifier
                                          additionalProperties: false
                                      required:
                                        - arrivalStop
                                        - departureStop
                                        - route
                                      additionalProperties: false
                                    - type: object
                                      properties:
                                        arrivalStop:
                                          type: object
                                          properties:
                                            countryCode: {}
                                            date:
                                              description: A qualified ISO 8601 date-time
                                              example: '2023-03-12T02:21:32.000+02:00'
                                              format: date-time
                                              type: string
                                            externalId:
                                              type: string
                                              minLength: 1
                                            latitude:
                                              type: number
                                              minimum: -90
                                              maximum: 90
                                            longitude:
                                              type: number
                                              minimum: -180
                                              maximum: 180
                                            name:
                                              type: string
                                              minLength: 1
                                            uic:
                                              type: string
                                              pattern: ^\d{7}$
                                          required:
                                            - countryCode
                                            - date
                                            - externalId
                                            - name
                                          additionalProperties: false
                                        departureStop:
                                          type: object
                                          properties:
                                            countryCode: {}
                                            date:
                                              description: A qualified ISO 8601 date-time
                                              example: '2023-03-12T02:21:32.000+02:00'
                                              format: date-time
                                              type: string
                                            externalId:
                                              type: string
                                              minLength: 1
                                            latitude:
                                              type: number
                                              minimum: -90
                                              maximum: 90
                                            longitude:
                                              type: number
                                              minimum: -180
                                              maximum: 180
                                            name:
                                              type: string
                                              minLength: 1
                                            uic:
                                              type: string
                                              pattern: ^\d{7}$
                                          required:
                                            - countryCode
                                            - date
                                            - externalId
                                            - name
                                          additionalProperties: false
                                        externalId:
                                          type: string
                                          minLength: 1
                                        price:
                                          type: object
                                          properties:
                                            amount:
                                              type: number
                                            currency:
                                              type: string
                                          required:
                                            - amount
                                            - currency
                                          additionalProperties: false
                                        route:
                                          type: object
                                          properties:
                                            mode:
                                              type: string
                                              enum:
                                                - BUS
                                                - TRAIN
                                                - FERRY
                                            transportIdentifier:
                                              type: string
                                              minLength: 1
                                          required:
                                            - mode
                                            - transportIdentifier
                                          additionalProperties: false
                                      required:
                                        - arrivalStop
                                        - departureStop
                                        - route
                                      additionalProperties: false
                            required:
                              - flights
                              - segments
                            additionalProperties: false
                        stays:
                          type: array
                          items:
                            type: object
                            properties:
                              address:
                                type: object
                                properties:
                                  country:
                                    type: object
                                    properties:
                                      id: {}
                                      name:
                                        type: string
                                        minLength: 1
                                    required:
                                      - id
                                      - name
                                    additionalProperties: false
                                  line1:
                                    type: string
                                    minLength: 1
                                  line2:
                                    type: string
                                    minLength: 1
                                  line3:
                                    type: string
                                    minLength: 1
                                  line4:
                                    type: string
                                    minLength: 1
                                  locality:
                                    type: string
                                    minLength: 1
                                  postcode:
                                    type: string
                                    minLength: 1
                                  region:
                                    type: string
                                    minLength: 1
                                required:
                                  - country
                                additionalProperties: false
                              endDate:
                                description: A qualified ISO 8601 date-time
                                example: '2023-03-12T02:21:32.000+02:00'
                                format: date-time
                                type: string
                              id:
                                type: string
                                format: uuid
                              name:
                                type: string
                                minLength: 1
                              startDate:
                                description: A qualified ISO 8601 date-time
                                example: '2023-03-12T02:21:32.000+02:00'
                                format: date-time
                                type: string
                            required:
                              - address
                              - endDate
                              - name
                              - startDate
                            additionalProperties: false
                      required:
                        - journeys
                        - stays
                      additionalProperties: false
                createdAt:
                  description: A qualified ISO 8601 date-time
                  example: '2023-03-12T02:21:32.000+02:00'
                  format: date-time
                  type: string
                id:
                  type: string
                  format: uuid
                maximumExpectedCompensation:
                  type: object
                  properties:
                    amount:
                      type: number
                      minimum: 0
                      multipleOf: 0.0001
                    currency:
                      type: string
                  required:
                    - amount
                    - currency
                  additionalProperties: false
                priceDetails:
                  type: object
                  properties:
                    coveredEventPrice:
                      type: number
                      minimum: 0
                    currency:
                      type: string
                    retailPremiumTaxesIncluded:
                      type: number
                      minimum: 0
                  required:
                    - currency
                    - retailPremiumTaxesIncluded
                  additionalProperties: false
                product:
                  type: object
                  properties:
                    name:
                      type: string
                      maxLength: 255
                    type:
                      type: string
                      enum:
                        - COMPREHENSIVE
                        - FLIGHT_DISRUPTION
                        - WITHDRAWAL
                  required:
                    - name
                    - type
                  additionalProperties: false
                subscription:
                  type: object
                  properties:
                    bookingNumber:
                      type: string
                    customer:
                      type: object
                      properties:
                        email:
                          type: string
                          format: email
                        firstName:
                          type: string
                          maxLength: 255
                        lastName:
                          type: string
                          maxLength: 255
                      required:
                        - email
                        - firstName
                        - lastName
                      additionalProperties: false
                    id:
                      type: string
                      format: uuid
                    subscribedAt:
                      description: A qualified ISO 8601 date-time
                      example: '2023-03-12T02:21:32.000+02:00'
                      format: date-time
                      type: string
                  required:
                    - bookingNumber
                    - customer
                    - id
                  additionalProperties: false
                travelers:
                  type: array
                  items:
                    type: object
                    properties:
                      ageRange:
                        type: string
                        enum:
                          - INFANT
                          - CHILD
                          - ADULT
                          - SENIOR
                      countryOfResidence:
                        type: object
                        properties:
                          id: {}
                          name:
                            type: string
                        required:
                          - id
                          - name
                        additionalProperties: false
                    required:
                      - ageRange
                    additionalProperties: false
                  minItems: 1
              required:
                - coveredEvent
                - createdAt
                - id
                - priceDetails
                - product
                - subscription
                - travelers
              additionalProperties: false
          required:
            - contract
          additionalProperties: false
        event:
          type: string
          enum:
            - contract.created
      required:
        - data
        - event
      additionalProperties: false
    ClaimUpdatedRequestBody:
      type: object
      properties:
        data:
          type: object
          properties:
            claim:
              type: object
              properties:
                claimedAt:
                  description: A qualified ISO 8601 date-time
                  example: '2023-03-12T02:21:32.000+02:00'
                  format: date-time
                  type: string
                compensation:
                  type: object
                  properties:
                    amount:
                      type: number
                      minimum: 0
                      multipleOf: 0.0001
                    currency:
                      type: string
                  required:
                    - amount
                    - currency
                  additionalProperties: false
                contract:
                  type: object
                  properties:
                    coveredEvent:
                      oneOf:
                        - type: object
                          properties:
                            arrivalAirport:
                              type: object
                              properties:
                                city:
                                  type: string
                                iata:
                                  type: string
                                  minLength: 3
                                  maxLength: 3
                                name:
                                  type: string
                              required:
                                - city
                                - iata
                                - name
                              additionalProperties: false
                            arrivalDate:
                              description: A qualified ISO 8601 date-time
                              example: '2023-03-12T02:21:32.000+02:00'
                              format: date-time
                              type: string
                            departureAirport:
                              type: object
                              properties:
                                city:
                                  type: string
                                iata:
                                  type: string
                                  minLength: 3
                                  maxLength: 3
                                name:
                                  type: string
                              required:
                                - city
                                - iata
                                - name
                              additionalProperties: false
                            departureDate:
                              description: A qualified ISO 8601 date-time
                              example: '2023-03-12T02:21:32.000+02:00'
                              format: date-time
                              type: string
                            number:
                              type: string
                              minLength: 1
                              maxLength: 6
                          required:
                            - arrivalAirport
                            - arrivalDate
                            - departureAirport
                            - departureDate
                            - number
                          additionalProperties: false
                        - type: object
                          properties:
                            flights:
                              type: array
                              items:
                                type: object
                                properties:
                                  arrivalAirport:
                                    type: object
                                    properties:
                                      city:
                                        type: string
                                      iata:
                                        type: string
                                        minLength: 3
                                        maxLength: 3
                                      name:
                                        type: string
                                    required:
                                      - city
                                      - iata
                                      - name
                                    additionalProperties: false
                                  arrivalDate:
                                    description: A qualified ISO 8601 date-time
                                    example: '2023-03-12T02:21:32.000+02:00'
                                    format: date-time
                                    type: string
                                  departureAirport:
                                    type: object
                                    properties:
                                      city:
                                        type: string
                                      iata:
                                        type: string
                                        minLength: 3
                                        maxLength: 3
                                      name:
                                        type: string
                                    required:
                                      - city
                                      - iata
                                      - name
                                    additionalProperties: false
                                  departureDate:
                                    description: A qualified ISO 8601 date-time
                                    example: '2023-03-12T02:21:32.000+02:00'
                                    format: date-time
                                    type: string
                                  number:
                                    type: string
                                    minLength: 1
                                    maxLength: 6
                                required:
                                  - arrivalAirport
                                  - arrivalDate
                                  - departureAirport
                                  - departureDate
                                  - number
                                additionalProperties: false
                            segments:
                              type: array
                              items:
                                oneOf:
                                  - type: object
                                    properties:
                                      arrivalStop:
                                        type: object
                                        properties:
                                          date:
                                            description: A qualified ISO 8601 date-time
                                            example: '2023-03-12T02:21:32.000+02:00'
                                            format: date-time
                                            type: string
                                          iata:
                                            type: string
                                            minLength: 3
                                            maxLength: 3
                                        required:
                                          - date
                                          - iata
                                        additionalProperties: false
                                      departureStop:
                                        type: object
                                        properties:
                                          date:
                                            description: A qualified ISO 8601 date-time
                                            example: '2023-03-12T02:21:32.000+02:00'
                                            format: date-time
                                            type: string
                                          iata:
                                            type: string
                                            minLength: 3
                                            maxLength: 3
                                        required:
                                          - date
                                          - iata
                                        additionalProperties: false
                                      price:
                                        type: object
                                        properties:
                                          amount:
                                            type: number
                                          currency:
                                            type: string
                                        required:
                                          - amount
                                          - currency
                                        additionalProperties: false
                                      route:
                                        type: object
                                        properties:
                                          mode:
                                            type: string
                                            enum:
                                              - FLIGHT
                                          transportIdentifier:
                                            type: object
                                            properties:
                                              airlineIata:
                                                type: string
                                                minLength: 2
                                                maxLength: 2
                                              number:
                                                type: string
                                                pattern: \d+
                                                maxLength: 4
                                            required:
                                              - airlineIata
                                              - number
                                            additionalProperties: false
                                        required:
                                          - mode
                                          - transportIdentifier
                                        additionalProperties: false
                                    required:
                                      - arrivalStop
                                      - departureStop
                                      - route
                                    additionalProperties: false
                                  - type: object
                                    properties:
                                      arrivalStop:
                                        type: object
                                        properties:
                                          countryCode: {}
                                          date:
                                            description: A qualified ISO 8601 date-time
                                            example: '2023-03-12T02:21:32.000+02:00'
                                            format: date-time
                                            type: string
                                          externalId:
                                            type: string
                                            minLength: 1
                                          latitude:
                                            type: number
                                            minimum: -90
                                            maximum: 90
                                          longitude:
                                            type: number
                                            minimum: -180
                                            maximum: 180
                                          name:
                                            type: string
                                            minLength: 1
                                          uic:
                                            type: string
                                            pattern: ^\d{7}$
                                        required:
                                          - countryCode
                                          - date
                                          - externalId
                                          - name
                                        additionalProperties: false
                                      departureStop:
                                        type: object
                                        properties:
                                          countryCode: {}
                                          date:
                                            description: A qualified ISO 8601 date-time
                                            example: '2023-03-12T02:21:32.000+02:00'
                                            format: date-time
                                            type: string
                                          externalId:
                                            type: string
                                            minLength: 1
                                          latitude:
                                            type: number
                                            minimum: -90
                                            maximum: 90
                                          longitude:
                                            type: number
                                            minimum: -180
                                            maximum: 180
                                          name:
                                            type: string
                                            minLength: 1
                                          uic:
                                            type: string
                                            pattern: ^\d{7}$
                                        required:
                                          - countryCode
                                          - date
                                          - externalId
                                          - name
                                        additionalProperties: false
                                      externalId:
                                        type: string
                                        minLength: 1
                                      price:
                                        type: object
                                        properties:
                                          amount:
                                            type: number
                                          currency:
                                            type: string
                                        required:
                                          - amount
                                          - currency
                                        additionalProperties: false
                                      route:
                                        type: object
                                        properties:
                                          mode:
                                            type: string
                                            enum:
                                              - BUS
                                              - TRAIN
                                              - FERRY
                                          transportIdentifier:
                                            type: string
                                            minLength: 1
                                        required:
                                          - mode
                                          - transportIdentifier
                                        additionalProperties: false
                                    required:
                                      - arrivalStop
                                      - departureStop
                                      - route
                                    additionalProperties: false
                          required:
                            - flights
                            - segments
                          additionalProperties: false
                        - type: object
                          properties:
                            journeys:
                              type: array
                              items:
                                type: object
                                properties:
                                  flights:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        arrivalAirport:
                                          type: object
                                          properties:
                                            city:
                                              type: string
                                            iata:
                                              type: string
                                              minLength: 3
                                              maxLength: 3
                                            name:
                                              type: string
                                          required:
                                            - city
                                            - iata
                                            - name
                                          additionalProperties: false
                                        arrivalDate:
                                          description: A qualified ISO 8601 date-time
                                          example: '2023-03-12T02:21:32.000+02:00'
                                          format: date-time
                                          type: string
                                        departureAirport:
                                          type: object
                                          properties:
                                            city:
                                              type: string
                                            iata:
                                              type: string
                                              minLength: 3
                                              maxLength: 3
                                            name:
                                              type: string
                                          required:
                                            - city
                                            - iata
                                            - name
                                          additionalProperties: false
                                        departureDate:
                                          description: A qualified ISO 8601 date-time
                                          example: '2023-03-12T02:21:32.000+02:00'
                                          format: date-time
                                          type: string
                                        number:
                                          type: string
                                          minLength: 1
                                          maxLength: 6
                                      required:
                                        - arrivalAirport
                                        - arrivalDate
                                        - departureAirport
                                        - departureDate
                                        - number
                                      additionalProperties: false
                                  segments:
                                    type: array
                                    items:
                                      oneOf:
                                        - type: object
                                          properties:
                                            arrivalStop:
                                              type: object
                                              properties:
                                                date:
                                                  description: A qualified ISO 8601 date-time
                                                  example: '2023-03-12T02:21:32.000+02:00'
                                                  format: date-time
                                                  type: string
                                                iata:
                                                  type: string
                                                  minLength: 3
                                                  maxLength: 3
                                              required:
                                                - date
                                                - iata
                                              additionalProperties: false
                                            departureStop:
                                              type: object
                                              properties:
                                                date:
                                                  description: A qualified ISO 8601 date-time
                                                  example: '2023-03-12T02:21:32.000+02:00'
                                                  format: date-time
                                                  type: string
                                                iata:
                                                  type: string
                                                  minLength: 3
                                                  maxLength: 3
                                              required:
                                                - date
                                                - iata
                                              additionalProperties: false
                                            price:
                                              type: object
                                              properties:
                                                amount:
                                                  type: number
                                                currency:
                                                  type: string
                                              required:
                                                - amount
                                                - currency
                                              additionalProperties: false
                                            route:
                                              type: object
                                              properties:
                                                mode:
                                                  type: string
                                                  enum:
                                                    - FLIGHT
                                                transportIdentifier:
                                                  type: object
                                                  properties:
                                                    airlineIata:
                                                      type: string
                                                      minLength: 2
                                                      maxLength: 2
                                                    number:
                                                      type: string
                                                      pattern: \d+
                                                      maxLength: 4
                                                  required:
                                                    - airlineIata
                                                    - number
                                                  additionalProperties: false
                                              required:
                                                - mode
                                                - transportIdentifier
                                              additionalProperties: false
                                          required:
                                            - arrivalStop
                                            - departureStop
                                            - route
                                          additionalProperties: false
                                        - type: object
                                          properties:
                                            arrivalStop:
                                              type: object
                                              properties:
                                                countryCode: {}
                                                date:
                                                  description: A qualified ISO 8601 date-time
                                                  example: '2023-03-12T02:21:32.000+02:00'
                                                  format: date-time
                                                  type: string
                                                externalId:
                                                  type: string
                                                  minLength: 1
                                                latitude:
                                                  type: number
                                                  minimum: -90
                                                  maximum: 90
                                                longitude:
                                                  type: number
                                                  minimum: -180
                                                  maximum: 180
                                                name:
                                                  type: string
                                                  minLength: 1
                                                uic:
                                                  type: string
                                                  pattern: ^\d{7}$
                                              required:
                                                - countryCode
                                                - date
                                                - externalId
                                                - name
                                              additionalProperties: false
                                            departureStop:
                                              type: object
                                              properties:
                                                countryCode: {}
                                                date:
                                                  description: A qualified ISO 8601 date-time
                                                  example: '2023-03-12T02:21:32.000+02:00'
                                                  format: date-time
                                                  type: string
                                                externalId:
                                                  type: string
                                                  minLength: 1
                                                latitude:
                                                  type: number
                                                  minimum: -90
                                                  maximum: 90
                                                longitude:
                                                  type: number
                                                  minimum: -180
                                                  maximum: 180
                                                name:
                                                  type: string
                                                  minLength: 1
                                                uic:
                                                  type: string
                                                  pattern: ^\d{7}$
                                              required:
                                                - countryCode
                                                - date
                                                - externalId
                                                - name
                                              additionalProperties: false
                                            externalId:
                                              type: string
                                              minLength: 1
                                            price:
                                              type: object
                                              properties:
                                                amount:
                                                  type: number
                                                currency:
                                                  type: string
                                              required:
                                                - amount
                                                - currency
                                              additionalProperties: false
                                            route:
                                              type: object
                                              properties:
                                                mode:
                                                  type: string
                                                  enum:
                                                    - BUS
                                                    - TRAIN
                                                    - FERRY
                                                transportIdentifier:
                                                  type: string
                                                  minLength: 1
                                              required:
                                                - mode
                                                - transportIdentifier
                                              additionalProperties: false
                                          required:
                                            - arrivalStop
                                            - departureStop
                                            - route
                                          additionalProperties: false
                                required:
                                  - flights
                                  - segments
                                additionalProperties: false
                            stays:
                              type: array
                              items:
                                type: object
                                properties:
                                  address:
                                    type: object
                                    properties:
                                      country:
                                        type: object
                                        properties:
                                          id: {}
                                          name:
                                            type: string
                                            minLength: 1
                                        required:
                                          - id
                                          - name
                                        additionalProperties: false
                                      line1:
                                        type: string
                                        minLength: 1
                                      line2:
                                        type: string
                                        minLength: 1
                                      line3:
                                        type: string
                                        minLength: 1
                                      line4:
                                        type: string
                                        minLength: 1
                                      locality:
                                        type: string
                                        minLength: 1
                                      postcode:
                                        type: string
                                        minLength: 1
                                      region:
                                        type: string
                                        minLength: 1
                                    required:
                                      - country
                                    additionalProperties: false
                                  endDate:
                                    description: A qualified ISO 8601 date-time
                                    example: '2023-03-12T02:21:32.000+02:00'
                                    format: date-time
                                    type: string
                                  id:
                                    type: string
                                    format: uuid
                                  name:
                                    type: string
                                    minLength: 1
                                  startDate:
                                    description: A qualified ISO 8601 date-time
                                    example: '2023-03-12T02:21:32.000+02:00'
                                    format: date-time
                                    type: string
                                required:
                                  - address
                                  - endDate
                                  - name
                                  - startDate
                                additionalProperties: false
                          required:
                            - journeys
                            - stays
                          additionalProperties: false
                    createdAt:
                      description: A qualified ISO 8601 date-time
                      example: '2023-03-12T02:21:32.000+02:00'
                      format: date-time
                      type: string
                    id:
                      type: string
                      format: uuid
                    maximumExpectedCompensation:
                      type: object
                      properties:
                        amount:
                          type: number
                          minimum: 0
                          multipleOf: 0.0001
                        currency:
                          type: string
                      required:
                        - amount
                        - currency
                      additionalProperties: false
                    priceDetails:
                      type: object
                      properties:
                        coveredEventPrice:
                          type: number
                          minimum: 0
                        currency:
                          type: string
                        retailPremiumTaxesIncluded:
                          type: number
                          minimum: 0
                      required:
                        - currency
                        - retailPremiumTaxesIncluded
                      additionalProperties: false
                    product:
                      type: object
                      properties:
                        name:
                          type: string
                          maxLength: 255
                        type:
                          type: string
                          enum:
                            - COMPREHENSIVE
                            - FLIGHT_DISRUPTION
                            - WITHDRAWAL
                      required:
                        - name
                        - type
                      additionalProperties: false
                    subscription:
                      type: object
                      properties:
                        bookingNumber:
                          type: string
                        customer:
                          type: object
                          properties:
                            email:
                              type: string
                              format: email
                            firstName:
                              type: string
                              maxLength: 255
                            lastName:
                              type: string
                              maxLength: 255
                          required:
                            - email
                            - firstName
                            - lastName
                          additionalProperties: false
                        id:
                          type: string
                          format: uuid
                        subscribedAt:
                          description: A qualified ISO 8601 date-time
                          example: '2023-03-12T02:21:32.000+02:00'
                          format: date-time
                          type: string
                      required:
                        - bookingNumber
                        - customer
                        - id
                      additionalProperties: false
                    travelers:
                      type: array
                      items:
                        type: object
                        properties:
                          ageRange:
                            type: string
                            enum:
                              - INFANT
                              - CHILD
                              - ADULT
                              - SENIOR
                          countryOfResidence:
                            type: object
                            properties:
                              id: {}
                              name:
                                type: string
                            required:
                              - id
                              - name
                            additionalProperties: false
                        required:
                          - ageRange
                        additionalProperties: false
                      minItems: 1
                  required:
                    - coveredEvent
                    - createdAt
                    - id
                    - priceDetails
                    - product
                    - subscription
                    - travelers
                  additionalProperties: false
                reason:
                  type: object
                  properties:
                    type:
                      type: string
                      enum:
                        - CANCELATION
                        - FLIGHT_CANCELED
                        - FLIGHT_DELAYED
                        - FLIGHT_DIVERTED
                  required:
                    - type
                  additionalProperties: false
                status:
                  type: string
                  enum:
                    - ACCEPTED
                    - AUTOMATICALLY_REJECTED
                    - CLAIM_ERROR
                    - MANUAL_VERIFICATION_NEEDED
                    - MORE_INFO_NEEDED
                    - REFUND_ERROR
                    - REFUNDABLE
                    - REFUNDED
                    - REJECTED
              required:
                - claimedAt
                - contract
                - status
              additionalProperties: false
          required:
            - claim
          additionalProperties: false
        event:
          type: string
          enum:
            - claim.updated
      required:
        - data
        - event
      additionalProperties: false
